# ===================================================================
# Spring Boot 3 Configuration (using Config Data API)
# 作用: 统一管理应用名、服务发现和远程配置导入
# ===================================================================
spring:
  application:
    # 服务的应用名称
    name: siae-user
  cloud:
    nacos:
      # Nacos 服务发现中心地址 (用于服务注册)
      discovery:
        server-addr: 127.0.0.1:8848
      # Nacos 配置中心地址（拉取配置）
      config:
        server-addr: 127.0.0.1:8848
  # 关键部分：使用 spring.config.import 导入外部配置
  config:
    import:
      # 格式: nacos:<data-id>[?<group>&<refresh>&<file-extension>]
      # 1. 加载当前服务的开发环境配置
      # optional: 前缀表示如果这个配置不存在，也不会报错，这对于共享配置很友好
      - nacos:siae-user-dev.yaml?group=SIAE_GROUP&refresh=true

      # 2. (可选) 加载共享的公共配置，例如公共的数据库或Redis配置
      # - optional:nacos:common-db.yaml?group=COMMON_GROUP&refresh=true

# 本地 Profiles 配置 (可以保留，用于本地切换环境)
# 例如，如果您在命令行中指定 --spring.profiles.active=prod
# Spring Boot 会尝试加载 nacos:siae-user-prod.yaml
#profiles:
#  active: dev

# ===================================================================
# SpringDoc OpenAPI 3 配置
# ===================================================================
springdoc:
  api-docs:
    enabled: true
    path: /v3/api-docs
  swagger-ui:
    path: /swagger-ui.html
    tags-sorter: alpha
    operations-sorter: alpha
    doc-expansion: none
  # 分组配置
  group-configs:
    - group: 'siae-user'
      paths-to-match: '/api/**'
  # 指定要扫描的包路径
  packages-to-scan: com.hngy.siae.user.controller

