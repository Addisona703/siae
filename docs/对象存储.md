# 🚀 MinIO 是什么？

一句话：

> **MinIO = 本地可部署的对象存储系统 = 自己家的 AWS S3。**

对象存储是什么？继续往下看👇

---

# 🧱 先理解“对象存储”是什么

对象存储是用来存：

* 图片
* 视频
* 压缩包
* 文档
* 大文件
* 备份文件
* 任何二进制内容（BLOB）

它不像普通硬盘那样按文件系统组织，而是：

> **用 Bucket（桶）分类 → 里面存放一个个 object（对象） → 每个对象有唯一的 key（路径）。**

云服务里最典型的对象存储是：

* AWS S3
* 阿里云 OSS
* 腾讯云 COS
* 七牛云 Kodo

而 **MinIO 是这些云存储的“本地版本”**。

---

# 🏆 MinIO 的特点（简单总结）

| 特点             | 解释                             |
| -------------- | ------------------------------ |
| 100% 兼容 S3 API | 你用 S3 SDK，改 endpoint 就能用 MinIO |
| 快              | 写入和读取性能非常高                     |
| 分布式            | 文件可以自动分布到多个机器上                 |
| 高可用            | 某个硬盘坏了，数据还在                    |
| 可私有化部署         | 本地机房、服务器都能自建对象存储               |
| Docker 一键启动    | 超简单                            |

---

# 🧱 MinIO 的核心概念（超级好理解）

## 1. Bucket（存储桶）

一个桶就像一个大的文件夹：

```
images
videos
backup
avatars
tenant-001-files
```

## 2. Object（对象）

里面存的文件，比如：

```
2025/01/logo.png
videos/2024/xx.mp4
avatars/user-123.png
```

## 3. Object Key（对象键）

就是文件在桶里的“路径”。

比如：

```
2025/01/logo.png
```

这就是你的 SQL 里：

* `bucket` → 桶名
* `storage_key` → 对象键

---

# 🔗 MinIO 的访问方式

和云厂商一样：

```
http://<minio-server>:9000/<bucket>/<storage_key>
```

但 MinIO 通常不会直接暴露原始 URL，而是：

* **发预签名 URL（presigned URL）** 给前端
* 只有持有这个 URL 才能下载
* URL 还能设置有效期（比如 5 分钟）

---

# 🛠️ MinIO 在你的系统中的作用

你的媒体服务其实就是在负责：

1. 接收前端上传文件请求
2. 生成 MinIO 上传的预签名 URL
3. 记录文件元数据
4. 返回可访问地址
5. 管理下载权限
6. 做缩略图 / 转码 / 压缩 / 分片上传

所以：

> **MinIO = 真正存文件的地方**
> **你的媒体服务 = 文件的管理员**

---

# 🧪 MinIO 最常见的使用方式（Docker）

只要一个命令：

```bash
docker run -p 9000:9000 -p 9090:9090 \
  -e "MINIO_ROOT_USER=admin" \
  -e "MINIO_ROOT_PASSWORD=Passw0rd" \
  minio/minio server /data --console-address ":9090"
```

访问控制台：

```
http://localhost:9090
```

非常简单。

---

# 🧠 什么时候推荐使用 MinIO？

如果你条件是下面这些：

✔ 想做文件服务，但不想依赖阿里云 OSS
✔ 公司要求数据不能出自己机房
✔ 需要构建自己的私有云
✔ 大文件、图片、视频需要统一存储
✔ 微服务架构，需要统一“文件中心”

那么 MinIO 是最佳选择。
