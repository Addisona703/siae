# siae-user 模块接口权限配置

> 注：超级管理员（ROLE_ROOT）默认放行所有接口，无需在权限表达式中声明

---

## AwardLevelController - 奖项等级字典

- **createAwardLevel** - 创建奖项等级  
  权限：`hasAuthority('user:award-level:create')`

- **updateAwardLevel** - 更新奖项等级  
  权限：`hasAuthority('user:award-level:update')`

- **getAwardLevelById** - 根据ID查询奖项等级  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **listAllAwardLevels** - 查询所有奖项等级  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **deleteAwardLevel** - 删除奖项等级  
  权限：`hasAuthority('user:award-level:delete')`

---

## AwardTypeController - 奖项类型字典

- **createAwardType** - 创建奖项类型  
  权限：`hasAuthority('user:award-type:create')`

- **updateAwardType** - 更新奖项类型  
  权限：`hasAuthority('user:award-type:update')`

- **getAwardTypeById** - 根据ID查询奖项类型  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **listAllAwardTypes** - 查询所有奖项类型  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **deleteAwardType** - 删除奖项类型  
  权限：`hasAuthority('user:award-type:delete')`

---

## DepartmentController - 部门字典

- **createDepartment** - 创建部门  
  权限：`hasAuthority('user:department:create')`

- **updateDepartment** - 更新部门  
  权限：`hasAuthority('user:department:update')`

- **getDepartmentById** - 根据ID查询部门  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **listAllDepartments** - 查询所有部门  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **deleteDepartment** - 删除部门  
  权限：`hasAuthority('user:department:delete')`

---

## MajorController - 专业字典

- **createMajor** - 创建专业  
  权限：`hasAuthority('user:major:create')`

- **updateMajor** - 更新专业  
  权限：`hasAuthority('user:major:update')`

- **getMajorById** - 根据ID查询专业  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **listAllMajors** - 查询所有专业  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **deleteMajor** - 删除专业  
  权限：`hasAuthority('user:major:delete')`

---

## PositionController - 职位字典

- **createPosition** - 创建职位  
  权限：`hasAuthority('user:position:create')`

- **updatePosition** - 更新职位  
  权限：`hasAuthority('user:position:update')`

- **getPositionById** - 根据ID查询职位  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **listAllPositions** - 查询所有职位  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **deletePosition** - 删除职位  
  权限：`hasAuthority('user:position:delete')`

---

## MembershipController - 成员管理

- **applyForMembership** - 申请成为候选成员  
  权限：`RoleConstants.MEMBER_LEVEL`

- **promoteToOfficial** - 候选成员转正  
  权限：`RoleConstants.ADMIN_LEVEL`

- **updateMembership** - 更新成员信息  
  权限：`RoleConstants.ADMIN_LEVEL`

- **deleteMembership** - 删除成员  
  权限：`RoleConstants.ADMIN_LEVEL`

- **getMembershipById** - 根据ID查询成员  
  权限：`RoleConstants.MEMBER_LEVEL`

- **getMembershipByUserId** - 根据用户ID查询成员  
  权限：`RoleConstants.MEMBER_LEVEL`

- **getMembershipDetail** - 查询成员详情  
  权限：`RoleConstants.MEMBER_LEVEL`

- **pageMemberships** - 分页查询成员列表  
  权限：`RoleConstants.MEMBER_LEVEL`

- **isMember** - 检查用户是否为成员  
  权限：`RoleConstants.ADMIN_LEVEL`

- **isCandidate** - 检查是否为候选成员  
  权限：`RoleConstants.ADMIN_LEVEL`

- **isOfficialMember** - 检查是否为正式成员  
  权限：`RoleConstants.ADMIN_LEVEL`

---

## UserAwardController - 用户获奖记录

- **createUserAward** - 创建获奖记录  
  权限：`MEMBER_LEVEL + " and hasAuthority('user:award:create')"`

- **updateUserAward** - 更新获奖记录  
  权限：`MEMBER_LEVEL + " and hasAuthority('user:award:update')"`

- **getUserAwardById** - 根据ID查询获奖记录  
  权限：`MEMBER_LEVEL + " and hasAuthority('user:award:view')"`

- **pageUserAwardsByUserId** - 根据用户ID分页查询获奖记录  
  权限：`MEMBER_LEVEL + " and hasAuthority('user:award:list')"`

- **listUserAwardsByPage** - 分页查询获奖记录  
  权限：`MEMBER_LEVEL + " and hasAuthority('user:award:list')"`

- **deleteUserAward** - 删除获奖记录  
  权限：`ADMIN_LEVEL + " and hasAuthority('user:award:delete')"`

---

## UserController - 用户管理

- **createUser** - 创建用户  
  权限：`hasAuthority('user:create')`

- **updateUser** - 更新用户信息  
  权限：`ADMIN_LEVEL + " and hasAuthority('user:update')"`

- **getUser** - 查询用户（支持按ID/用户名/学号）  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **listUsersByPage** - 分页查询用户列表  
  权限：`RoleConstants.ANY_AUTHENTICATED`

- **deleteUser** - 删除用户  
  权限：`hasAuthority('user:delete')`

- **checkStudentIdExists** - 检查学号是否存在  
  权限：无（公开接口）

---

## UserFeignController - Feign接口（服务间调用）

- **registerUser** - 用户注册  
  权限：无（内部调用）

- **getUserByUsername** - 根据用户名查询用户  
  权限：无（内部调用）

- **checkUsernameExists** - 检查用户名是否存在  
  权限：无（内部调用）

- **checkStudentIdExists** - 检查学号是否存在  
  权限：无（内部调用）

- **checkUserIdExists** - 检查用户ID是否存在  
  权限：无（内部调用）

---

## 权限常量说明

### 角色级别
- `RoleConstants.ANY_AUTHENTICATED` - 所有已认证用户
- `RoleConstants.MEMBER_LEVEL` - 成员级别（管理员或成员）
- `RoleConstants.ADMIN_LEVEL` - 管理员级别

### 使用示例
```java
// 单个角色级别
@SiaeAuthorize(RoleConstants.ANY_AUTHENTICATED)
@SiaeAuthorize(RoleConstants.MEMBER_LEVEL)
@SiaeAuthorize(RoleConstants.ADMIN_LEVEL)

// 角色 + 权限组合
@SiaeAuthorize(RoleConstants.MEMBER_LEVEL + " and hasAuthority('user:award:create')")
@SiaeAuthorize(RoleConstants.ADMIN_LEVEL + " and hasAuthority('user:update')")

// 单个权限
@SiaeAuthorize("hasAuthority('user:create')")
```
