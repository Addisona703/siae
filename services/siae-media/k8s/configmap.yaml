apiVersion: v1
kind: ConfigMap
metadata:
  name: siae-media-config
  namespace: siae
  labels:
    app: siae-media
data:
  # Nacos 配置
  NACOS_SERVER_ADDR: "nacos:8848"
  NACOS_NAMESPACE: "production"
  NACOS_GROUP: "DEFAULT_GROUP"
  
  # 数据库配置
  DB_HOST: "mysql"
  DB_PORT: "3306"
  DB_NAME: "siae_media"
  
  # Redis 配置
  REDIS_HOST: "redis"
  REDIS_PORT: "6379"
  
  # RabbitMQ 配置
  RABBITMQ_ADDRESSES: "rabbitmq:5672"
  RABBITMQ_USERNAME: "guest"
  
  # MinIO 配置
  MINIO_ENDPOINT: "http://minio:9000"
  MINIO_BUCKET: "siae-media"
  
  # Zipkin 配置
  ZIPKIN_ENDPOINT: "http://zipkin:9411/api/v2/spans"
  
  # JVM 配置
  JAVA_OPTS: >-
    -Xms512m
    -Xmx1024m
    -XX:+UseG1GC
    -XX:MaxGCPauseMillis=200
    -XX:+HeapDumpOnOutOfMemoryError
    -XX:HeapDumpPath=/app/logs/heapdump.hprof
    -Djava.security.egd=file:/dev/./urandom
